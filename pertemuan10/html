<!DOCTYPE html>
<html>
<head>
    <title>Formulir Pendaftaran</title>
</head>
<body>
    <h1>Formulir Pendaftaran</h1>
    <form id="form-daftar">
        <p><input type="text" name="nama" placeholder="Nama" required></p>
        <p><textarea name="alamat" placeholder="Alamat" required></textarea></p>
        <p>
            <label><input type="radio" name="jenis_kelamin" value="Laki-laki"> Laki-laki</label>
            <label><input type="radio" name="jenis_kelamin" value="Perempuan"> Perempuan</label>
        </p>
        <p>
            <select name="agama" required>
                <option value="">-- Pilih Agama --</option>
                <option value="Islam">Islam</option>
                <option value="Kristen">Kristen</option>
                <option value="Katolik">Katolik</option>
                <option value="Hindu">Hindu</option>
                <option value="Budha">Budha</option>
                <option value="Atheis">Atheis</option>
            </select>
        </p>
        <p><input type="text" name="sekolah_asal" placeholder="Sekolah Asal" required></p>
        <p><button type="submit">Daftar</button></p>
    </form>

    <p id="notif"></p>

    <script>
    document.getElementById("form-daftar").addEventListener("submit", function(e){
        e.preventDefault();

        const formData = new FormData(this);
        const data = {};
        formData.forEach((val, key) => data[key] = val);

        fetch("https://script.google.com/macros/s/AKfycbw6m6bMko1bbuT-Dmex5ea6JEvodMZiIfOdiOLDqYJRZYhEIs_nUHvSTCsVMg56_yCF/exec", {
            method: "POST",
            body: JSON.stringify(data),
            headers: {
                "Content-Type": "application/json"
            }
        })
        .then(res => res.json())
        .then(res => {
            document.getElementById("notif").innerText = "Pendaftaran berhasil!";
            this.reset();
        })
        .catch(err => {
            document.getElementById("notif").innerText = "Terjadi kesalahan!";
            console.error(err);
        });
    });
    </script>
</body>
</html>
